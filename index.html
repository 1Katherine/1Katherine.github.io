<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"1katherine.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.12.2","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"flat"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.json","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Yang的博客">
<meta property="og:type" content="website">
<meta property="og:title" content="Yang&#39;s Blog">
<meta property="og:url" content="https://1katherine.github.io/index.html">
<meta property="og:site_name" content="Yang&#39;s Blog">
<meta property="og:description" content="Yang的博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Yang">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://1katherine.github.io/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Yang's Blog</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Yang's Blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-guestbook"><a href="/guestbook/" rel="section"><i class="fa fa-book fa-fw"></i>guestbook</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Yang</p>
  <div class="site-description" itemprop="description">Yang的博客</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">52</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">60</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://1katherine.github.io/2022/09/10/%E5%AD%A6%E6%A0%A1%E4%B8%8B%E6%8B%89%E6%A1%86%E6%88%96%E8%80%85%E5%AD%A6%E6%A0%A1%E5%BB%BA%E8%AE%AE%E6%A1%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yang's Blog">
      <meta itemprop="description" content="Yang的博客">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Yang's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/10/%E5%AD%A6%E6%A0%A1%E4%B8%8B%E6%8B%89%E6%A1%86%E6%88%96%E8%80%85%E5%AD%A6%E6%A0%A1%E5%BB%BA%E8%AE%AE%E6%A1%86/" class="post-title-link" itemprop="url">学校下拉框或者学校建议框</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-09-10 15:05:10" itemprop="dateCreated datePublished" datetime="2022-09-10T15:05:10+08:00">2022-09-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-09-11 02:09:56" itemprop="dateModified" datetime="2022-09-11T02:09:56+08:00">2022-09-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%AE%9E%E9%AA%8C%E5%AE%A4%E9%A1%B9%E7%9B%AE/" itemprop="url" rel="index"><span itemprop="name">实验室项目</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="做法一：使用建议框"><a href="#做法一：使用建议框" class="headerlink" title="做法一：使用建议框"></a>做法一：使用建议框</h2><h3 id="页面结构"><a href="#页面结构" class="headerlink" title="页面结构"></a>页面结构</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;学校id&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;school_id&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-input</span></span></span><br><span class="line"><span class="tag">    <span class="attr">v-model</span>=<span class="string">&quot;form.school_id&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">class</span>=<span class="string">&quot;input_box&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:disabled</span>=<span class="string">&quot;titleName.indexOf(&#x27;新增&#x27;) !== -1 ? false : true&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">placeholder</span>=<span class="string">&quot;请输入学校id&quot;</span></span></span><br><span class="line"><span class="tag">  /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 学校建议框 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;学校&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;school_name&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-autocomplete</span></span></span><br><span class="line"><span class="tag">    <span class="attr">v-model</span>=<span class="string">&quot;form.school_name&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">popper-class</span>=<span class="string">&quot;my-autocomplete&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">class</span>=<span class="string">&quot;input_box&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">style</span>=<span class="string">&quot;height:40px; &quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:fetch-suggestions</span>=<span class="string">&quot;querySearch&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:disabled</span>=<span class="string">&quot;titleName.indexOf(&#x27;新增&#x27;) !== -1 ? false : true&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">placeholder</span>=<span class="string">&quot;请输入学校名&quot;</span></span></span><br><span class="line"><span class="tag">    @<span class="attr">select</span>=<span class="string">&quot;handleSchoolChange&quot;</span></span></span><br><span class="line"><span class="tag">  &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;&#123; item &#125;&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;name&quot;</span>&gt;</span>&#123;&#123; item.school_name &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-autocomplete</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="数据-data"><a href="#数据-data" class="headerlink" title="数据 data"></a>数据 data</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">  <span class="attr">form</span>: &#123;</span><br><span class="line">    <span class="attr">school_discipline_code</span>: <span class="string">&#x27;&#x27;</span>, <span class="comment">// 主键</span></span><br><span class="line">    <span class="attr">discipline_id</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">discipline_level</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">school_id</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">+    <span class="attr">school_name</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="表单校验"><a href="#表单校验" class="headerlink" title="表单校验"></a>表单校验</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">school_id</span>: [</span><br><span class="line">  &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;请输入学校id&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span><br><span class="line">],</span><br><span class="line"><span class="attr">school_name</span>: [</span><br><span class="line">  &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;请选择学校&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;change&#x27;</span> &#125; <span class="comment">// 学校 select 下拉框的条件</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>



<h3 id="封装防抖方法-src-x2F-utils-x2F-AntiShake-js"><a href="#封装防抖方法-src-x2F-utils-x2F-AntiShake-js" class="headerlink" title="封装防抖方法 src&#x2F;utils&#x2F;AntiShake.js"></a>封装防抖方法 src&#x2F;utils&#x2F;AntiShake.js</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="comment">// 防抖</span></span><br><span class="line">  <span class="attr">debounce</span>: <span class="keyword">function</span> (<span class="params">fn, delay</span>) &#123;</span><br><span class="line">    <span class="comment">// 时间期限</span></span><br><span class="line">    <span class="keyword">var</span> delays = delay || <span class="number">200</span></span><br><span class="line">    <span class="keyword">var</span> timer</span><br><span class="line">    <span class="comment">// 闭包</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="comment">// 考虑作用域，上下文环境，apply需要用到this对象</span></span><br><span class="line">      <span class="keyword">var</span> th = <span class="variable language_">this</span></span><br><span class="line">      <span class="comment">// 接收的参数用 ES6 中的 rest 参数统一存储到变量 args 中。arguments就是传入的参数数组,而且个数可以不确定的传回给fn（不确定函数到底有多少个参数，用arguments来接收）</span></span><br><span class="line">      <span class="keyword">var</span> args = <span class="variable language_">arguments</span></span><br><span class="line">      <span class="comment">// 判断还在定时，说明当前正在一个计时过程中，并且又触发了相同事件。所以要取消当前的计时，重新开始计时</span></span><br><span class="line">      <span class="keyword">if</span> (timer) &#123;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">      &#125;</span><br><span class="line">      timer = <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        timer = <span class="literal">null</span></span><br><span class="line">        <span class="comment">// 执行方法</span></span><br><span class="line">        fn.<span class="title function_">apply</span>(th, args)</span><br><span class="line">      &#125;, delays)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 节流 定时器 + 时间戳</span></span><br><span class="line">  <span class="attr">throttle</span>: <span class="keyword">function</span> (<span class="params">func, delay</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> timer = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">var</span> startTime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="comment">// 结束时间</span></span><br><span class="line">      <span class="keyword">var</span> curTime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">      <span class="comment">// 间隔时间 = 延迟的时间 - （结束时间戳 - 开始时间戳）</span></span><br><span class="line">      <span class="keyword">var</span> interval = delay - (curTime - startTime)</span><br><span class="line">      <span class="keyword">var</span> th = <span class="variable language_">this</span></span><br><span class="line">      <span class="keyword">var</span> args = <span class="variable language_">arguments</span></span><br><span class="line">      <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">      <span class="keyword">if</span> (interval &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// 证明可以触发了</span></span><br><span class="line">        func.<span class="title function_">apply</span>(th, args)</span><br><span class="line">        <span class="comment">// 重新计算开始时间</span></span><br><span class="line">        startTime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 继续等待</span></span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(func, interval)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="监听-school-name的变化，获取school-id，加上防抖"><a href="#监听-school-name的变化，获取school-id，加上防抖" class="headerlink" title="监听 school_name的变化，获取school_id，加上防抖"></a>监听 school_name的变化，获取school_id，加上防抖</h3><h4 id="监听："><a href="#监听：" class="headerlink" title="监听："></a>监听：</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">watch</span>: &#123;</span><br><span class="line">    <span class="comment">// 根须选择的学校自动填写学校id</span></span><br><span class="line">    <span class="string">&#x27;form.school_name&#x27;</span>: &#123;</span><br><span class="line">      <span class="attr">handler</span>: <span class="keyword">function</span> (<span class="params">newVal, oldVal</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">schoolNameDebounce</span>(newVal)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<h4 id="引入防抖方法："><a href="#引入防抖方法：" class="headerlink" title="引入防抖方法："></a>引入防抖方法：</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">AntiShake</span> <span class="keyword">from</span> <span class="string">&#x27;@/utils/AntiShake&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="监听-school-id-的变化，获取school-name，加上防抖"><a href="#监听-school-id-的变化，获取school-name，加上防抖" class="headerlink" title="监听 school_id 的变化，获取school_name，加上防抖"></a>监听 school_id 的变化，获取school_name，加上防抖</h3><h4 id="监听：-1"><a href="#监听：-1" class="headerlink" title="监听："></a>监听：</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">watch</span>: &#123;</span><br><span class="line">    <span class="comment">// 根据输入的学校id显示学校名称</span></span><br><span class="line">    <span class="string">&#x27;form.school_id&#x27;</span>: &#123;</span><br><span class="line">      <span class="comment">// 没有使用防抖</span></span><br><span class="line">      <span class="attr">handler</span>: <span class="keyword">function</span> (<span class="params">newVal, oldVal</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">schoolIdDebounce</span>(newVal)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="防抖函数："><a href="#防抖函数：" class="headerlink" title="防抖函数："></a>防抖函数：</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 学校名称输入框的防抖函数</span></span><br><span class="line"> <span class="attr">schoolNameDebounce</span>: <span class="title class_">AntiShake</span>.<span class="title function_">debounce</span>(<span class="keyword">function</span> (<span class="params">newVal</span>) &#123;</span><br><span class="line">   <span class="keyword">if</span> (newVal !== <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">     <span class="comment">// this.schoolNameDebounce(newVal)</span></span><br><span class="line">     <span class="keyword">const</span> obj = <span class="variable language_">this</span>.<span class="property">schools</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item.<span class="property">school_name</span> === newVal)</span><br><span class="line">     <span class="keyword">if</span> (obj.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">       <span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">school_id</span> = obj[<span class="number">0</span>].<span class="property">school_id</span></span><br><span class="line">     &#125;</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">     <span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">school_id</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="variable language_">this</span>.$nextTick(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">     <span class="variable language_">this</span>.<span class="property">$refs</span>[<span class="string">&#x27;dialog&#x27;</span>].<span class="property">$refs</span>[<span class="string">&#x27;form&#x27;</span>].<span class="title function_">clearValidate</span>()</span><br><span class="line">   &#125;)</span><br><span class="line"> &#125;, <span class="number">200</span>),</span><br><span class="line"></span><br><span class="line"> <span class="comment">// 学校Id输入框的防抖函数</span></span><br><span class="line"> <span class="attr">schoolIdDebounce</span>: <span class="title class_">AntiShake</span>.<span class="title function_">debounce</span>(<span class="keyword">function</span> (<span class="params">newVal</span>) &#123;</span><br><span class="line">   <span class="keyword">if</span> (newVal !== <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">     <span class="keyword">const</span> obj = <span class="variable language_">this</span>.<span class="property">schools</span>.<span class="title function_">filter</span>(</span><br><span class="line">       <span class="function">(<span class="params">item</span>) =&gt;</span> item.<span class="property">school_id</span>.<span class="title function_">toString</span>() === newVal.<span class="title function_">toString</span>()</span><br><span class="line">     )</span><br><span class="line">     <span class="keyword">if</span> (obj.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">       <span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">school_name</span> = obj[<span class="number">0</span>].<span class="property">school_name</span></span><br><span class="line">     &#125;</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">     <span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">school_name</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="variable language_">this</span>.$nextTick(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">     <span class="variable language_">this</span>.<span class="property">$refs</span>[<span class="string">&#x27;dialog&#x27;</span>].<span class="property">$refs</span>[<span class="string">&#x27;form&#x27;</span>].<span class="title function_">clearValidate</span>()</span><br><span class="line">   &#125;)</span><br><span class="line"> &#125;, <span class="number">200</span>),</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="建议框的建议方法"><a href="#建议框的建议方法" class="headerlink" title="建议框的建议方法"></a>建议框的建议方法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 表单输入框建议函数</span></span><br><span class="line"><span class="title function_">querySearch</span>(<span class="params">queryString, callback</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> schools = <span class="variable language_">this</span>.<span class="property">schools</span></span><br><span class="line">  <span class="keyword">var</span> results = queryString</span><br><span class="line">    ? schools.<span class="title function_">filter</span>(<span class="variable language_">this</span>.<span class="title function_">createFilter</span>(queryString))</span><br><span class="line">    : schools</span><br><span class="line">  <span class="comment">// 结果需要有value字段</span></span><br><span class="line">  results.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    item.<span class="property">value</span> = item.<span class="property">school_name</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="comment">// 调用 callback 返回建议列表的数据</span></span><br><span class="line">  <span class="title function_">callback</span>(results)</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">// 输出狂建议匹配</span></span><br><span class="line"><span class="title function_">createFilter</span>(<span class="params">queryString</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function">(<span class="params">schools</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      schools.<span class="property">school_name</span></span><br><span class="line">        .<span class="title function_">toLowerCase</span>()</span><br><span class="line">        .<span class="title function_">indexOf</span>(queryString.<span class="title function_">toLowerCase</span>()) !== -<span class="number">1</span></span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h3 id="数据框改变后清空校验规则"><a href="#数据框改变后清空校验规则" class="headerlink" title="数据框改变后清空校验规则"></a>数据框改变后清空校验规则</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 触发学校选择框</span></span><br><span class="line"><span class="title function_">handleSchoolChange</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 清空数据重新输入</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">discipline_level</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">discipline_id</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">disciplinesByDisciplineLevel</span> = []</span><br><span class="line">  <span class="variable language_">this</span>.$nextTick(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$refs</span>[<span class="string">&#x27;dialog&#x27;</span>].<span class="property">$refs</span>[<span class="string">&#x27;form&#x27;</span>].<span class="title function_">clearValidate</span>([</span><br><span class="line">      <span class="string">&#x27;discipline_level&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;discipline_id&#x27;</span>,</span><br><span class="line">    +  <span class="string">&#x27;school_id&#x27;</span></span><br><span class="line">    ])</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h3 id="点击编辑数据重显"><a href="#点击编辑数据重显" class="headerlink" title="点击编辑数据重显"></a>点击编辑数据重显</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 打开对话框</span></span><br><span class="line"><span class="keyword">async</span> <span class="title function_">handleClick</span>(<span class="params">row</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (row.<span class="property">school_discipline_code</span>) &#123;</span><br><span class="line">    <span class="comment">// 编辑</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">titleName</span> = <span class="string">&#x27;编辑信息&#x27;</span></span><br><span class="line">    <span class="variable language_">this</span>.$nextTick(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">form</span> = &#123;</span><br><span class="line">        <span class="attr">school_discipline_code</span>: row.<span class="property">school_discipline_code</span>,</span><br><span class="line">        <span class="attr">discipline_id</span>: row.<span class="property">discipline_id</span>,</span><br><span class="line">        <span class="attr">discipline_level</span>: row.<span class="property">discipline_level</span>,</span><br><span class="line">        <span class="attr">school_id</span>: row.<span class="property">school_id</span>,</span><br><span class="line">      +  <span class="attr">school_name</span>: row.<span class="property">school_name</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">getDisciplinesByDisciplineLevel</span>(<span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">discipline_level</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 新增</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">titleName</span> = <span class="string">&#x27;新增信息&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">showDialog</span> = <span class="literal">true</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h3 id="新增逻辑：在提交表单的时候判断学校-id-和-学校name是否匹配"><a href="#新增逻辑：在提交表单的时候判断学校-id-和-学校name是否匹配" class="headerlink" title="新增逻辑：在提交表单的时候判断学校 id 和 学校name是否匹配"></a>新增逻辑：在提交表单的时候判断学校 id 和 学校name是否匹配</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="title function_">onSave</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 先判断学校id和学校name是否对应</span></span><br><span class="line">  <span class="keyword">const</span> ret = <span class="variable language_">this</span>.<span class="property">schools</span>.<span class="title function_">filter</span>(</span><br><span class="line">    <span class="function">(<span class="params">item</span>) =&gt;</span> item.<span class="property">school_id</span>.<span class="title function_">toString</span>() === <span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">school_id</span>.<span class="title function_">toString</span>()</span><br><span class="line">  )</span><br><span class="line">  <span class="keyword">if</span> (ret.<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">error</span>(<span class="string">&#x27;不存在该学校id&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (</span><br><span class="line">    ret[<span class="number">0</span>].<span class="property">school_name</span>.<span class="title function_">toString</span>() !== <span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">school_name</span>.<span class="title function_">toString</span>()</span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">error</span>(<span class="string">&#x27;存在学校id，但与学校名称不对应，请重新输入&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">    .......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="样式"><a href="#样式" class="headerlink" title="样式"></a>样式</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">::v-deep .el-dialog &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">350px</span>; // 在原有基础上加<span class="number">50</span></span><br><span class="line">  <span class="selector-class">.el-dialog__body</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">250px</span>; // 在原有基础上加<span class="number">50</span></span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">20px</span> <span class="number">0px</span> <span class="number">20px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>





<p>ps 以上方法仅适用于简单场景，即需要根据 id 获取 name或 name获取id时，如果涉及复杂场景，需要根据id和name获取门类、一级学科等内容，请使用以下代码。</p>
<p>1.不用加防抖，（因为并没有根据数据的输入而立刻发送请求，所以没有防抖也可以，并且还简化了代码）</p>
<p>2.建议框不添加 @select方法，直接在监听方法中如果有对应的id或name ，再调用请求方法</p>
<p>其他还是和上面一样</p>
<h2 id="不加防抖的方法"><a href="#不加防抖的方法" class="headerlink" title="不加防抖的方法"></a>不加防抖的方法</h2><h3 id="页面结构-1"><a href="#页面结构-1" class="headerlink" title="页面结构"></a>页面结构</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">     <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;学校id&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;school_id&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">el-input</span></span></span><br><span class="line"><span class="tag">         <span class="attr">v-model</span>=<span class="string">&quot;form.school_id&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">class</span>=<span class="string">&quot;input_box&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">:disabled</span>=<span class="string">&quot;titleName.indexOf(&#x27;新增&#x27;) !== -1 ? false : true&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">placeholder</span>=<span class="string">&quot;请输入学校id&quot;</span></span></span><br><span class="line"><span class="tag">         @<span class="attr">focus</span>=<span class="string">&quot;getPageFormat=&#x27;dialog&#x27;&quot;</span></span></span><br><span class="line"><span class="tag">       /&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">     <span class="comment">&lt;!-- 学校建议框 --&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;学校&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;school_name&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">el-autocomplete</span></span></span><br><span class="line"><span class="tag">         <span class="attr">v-model</span>=<span class="string">&quot;form.school_name&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">popper-class</span>=<span class="string">&quot;my-autocomplete&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">class</span>=<span class="string">&quot;input_box&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">style</span>=<span class="string">&quot;height:40px; &quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">:fetch-suggestions</span>=<span class="string">&quot;querySearch&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">:disabled</span>=<span class="string">&quot;titleName.indexOf(&#x27;新增&#x27;) !== -1 ? false : true&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">placeholder</span>=<span class="string">&quot;请输入学校名&quot;</span></span></span><br><span class="line"><span class="tag">         @<span class="attr">focus</span>=<span class="string">&quot;getPageFormat=&#x27;dialog&#x27;&quot;</span></span></span><br><span class="line"><span class="tag">       &gt;</span></span><br><span class="line">-         <span class="comment">&lt;!--    @select=&quot;handleSchoolChange&quot; --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;&#123; item &#125;&quot;</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;name&quot;</span>&gt;</span>&#123;&#123; item.school_name &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">el-autocomplete</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="监听方法"><a href="#监听方法" class="headerlink" title="监听方法"></a>监听方法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">watch</span>: &#123;</span><br><span class="line">  <span class="comment">// 根据输入的学校id显示学校名称</span></span><br><span class="line">  <span class="string">&#x27;form.school_id&#x27;</span>: &#123;</span><br><span class="line">    <span class="comment">// 没有使用防抖</span></span><br><span class="line">    <span class="attr">handler</span>: <span class="keyword">function</span> (<span class="params">newVal, oldVal</span>) &#123;</span><br><span class="line">      <span class="comment">// this.schoolIdDebounce(newVal)</span></span><br><span class="line">      <span class="keyword">if</span> (newVal !== <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> obj = <span class="variable language_">this</span>.<span class="property">schools</span>.<span class="title function_">filter</span>(</span><br><span class="line">          <span class="function">(<span class="params">item</span>) =&gt;</span> item.<span class="property">school_id</span>.<span class="title function_">toString</span>() === newVal.<span class="title function_">toString</span>()</span><br><span class="line">        )</span><br><span class="line">        <span class="keyword">if</span> (obj.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">school_name</span> = obj[<span class="number">0</span>].<span class="property">school_name</span></span><br><span class="line">          <span class="variable language_">this</span>.<span class="title function_">handleSchoolChange</span>()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">schoolDisciplines</span> = [] <span class="comment">// 学校不存在，获取不到学校对应的门类信息</span></span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">discipline_id</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">subject_id</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">subjectByDisciplines</span> = []</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">school_name</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="variable language_">this</span>.$nextTick(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">$refs</span>[<span class="string">&#x27;dialog&#x27;</span>].<span class="property">$refs</span>[<span class="string">&#x27;form&#x27;</span>].<span class="title function_">clearValidate</span>()</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 根须选择的学校自动填写学校id</span></span><br><span class="line">  <span class="string">&#x27;form.school_name&#x27;</span>: &#123;</span><br><span class="line">    <span class="attr">handler</span>: <span class="keyword">function</span> (<span class="params">newVal, oldVal</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (newVal !== <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">        <span class="comment">// this.schoolNameDebounce(newVal)</span></span><br><span class="line">        <span class="keyword">const</span> obj = <span class="variable language_">this</span>.<span class="property">schools</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item.<span class="property">school_name</span> === newVal)</span><br><span class="line">        <span class="keyword">if</span> (obj.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">school_id</span> = obj[<span class="number">0</span>].<span class="property">school_id</span></span><br><span class="line">          <span class="variable language_">this</span>.<span class="title function_">handleSchoolChange</span>()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">schoolDisciplines</span> = [] <span class="comment">// 学校不存在，获取不到学校对应的门类信息</span></span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">discipline_id</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">subject_id</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">subjectByDisciplines</span> = []</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">school_id</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="variable language_">this</span>.$nextTick(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">$refs</span>[<span class="string">&#x27;dialog&#x27;</span>].<span class="property">$refs</span>[<span class="string">&#x27;form&#x27;</span>].<span class="title function_">clearValidate</span>()</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h3 id="新增逻辑：在提交表单的时候判断学校-id-和-学校name是否匹配-1"><a href="#新增逻辑：在提交表单的时候判断学校-id-和-学校name是否匹配-1" class="headerlink" title="新增逻辑：在提交表单的时候判断学校 id 和 学校name是否匹配"></a>新增逻辑：在提交表单的时候判断学校 id 和 学校name是否匹配</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="title function_">onSave</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 先判断学校id和学校name是否对应</span></span><br><span class="line">  <span class="keyword">const</span> ret = <span class="variable language_">this</span>.<span class="property">schools</span>.<span class="title function_">filter</span>(</span><br><span class="line">    <span class="function">(<span class="params">item</span>) =&gt;</span> item.<span class="property">school_id</span>.<span class="title function_">toString</span>() === <span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">school_id</span>.<span class="title function_">toString</span>()</span><br><span class="line">  )</span><br><span class="line">  <span class="keyword">if</span> (ret.<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">error</span>(<span class="string">&#x27;不存在该学校id&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (</span><br><span class="line">    ret[<span class="number">0</span>].<span class="property">school_name</span>.<span class="title function_">toString</span>() !== <span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">school_name</span>.<span class="title function_">toString</span>()</span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">error</span>(<span class="string">&#x27;存在学校id，但与学校名称不对应，请重新输入&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">    .......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://1katherine.github.io/2022/09/05/Leetcode76-%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yang's Blog">
      <meta itemprop="description" content="Yang的博客">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Yang's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/05/Leetcode76-%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2/" class="post-title-link" itemprop="url">Leetcode76 最小覆盖子串</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2022-09-05 14:30:54 / 修改时间：14:38:00" itemprop="dateCreated datePublished" datetime="2022-09-05T14:30:54+08:00">2022-09-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/minimum-window-substring/">题目</a></p>
<p>给你一个字符串 <code>s</code> 、一个字符串 <code>t</code> 。返回 <code>s</code> 中涵盖 <code>t</code> 所有字符的最小子串。如果 <code>s</code> 中不存在涵盖 <code>t</code> 所有字符的子串，则返回空字符串 <code>&quot;&quot;</code> </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：s = &quot;ADOBECODEBANC&quot;, t = &quot;ABC&quot;</span><br><span class="line">输出：&quot;BANC&quot;</span><br></pre></td></tr></table></figure>



<p>解法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">s</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">t</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">string</span>&#125;</span></span><br><span class="line"><span class="comment"> * 滑动窗口</span></span><br><span class="line"><span class="comment"> * 增大窗口，一直往右增加，直到 right 走完字符串 s</span></span><br><span class="line"><span class="comment"> * 缩小窗口，直到不完全包含 t 中的元素</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> minWindow = <span class="keyword">function</span> (<span class="params">s, t</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> left = <span class="number">0</span>,</span><br><span class="line">    right = <span class="number">0</span></span><br><span class="line">  <span class="keyword">let</span> valid = <span class="number">0</span> <span class="comment">// 有效的字符数量，当windows中某个字符的出现次数===need中这个字符的出现此时，该字符为有效字符</span></span><br><span class="line">  <span class="keyword">let</span> start = <span class="number">0</span>,</span><br><span class="line">    len = <span class="title class_">Infinity</span> <span class="comment">// 最小覆盖子串的起始索引和最小长度</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> need = &#123;&#125; <span class="comment">// 记录 t 中每个字符出现次数</span></span><br><span class="line">  <span class="keyword">let</span> windows = &#123;&#125; <span class="comment">// 记录窗口中，符合t的元素中每个字符出现次数</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; t.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> ch = t.<span class="title function_">charAt</span>(i)</span><br><span class="line">    <span class="keyword">if</span> (need[ch] !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">      need[ch] += <span class="number">1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      need[ch] = <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// [left, right)</span></span><br><span class="line">  <span class="keyword">while</span> (right &lt; s.<span class="property">length</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> ch = s.<span class="title function_">charAt</span>(right)</span><br><span class="line">    right++ <span class="comment">// 右移窗口</span></span><br><span class="line">    <span class="comment">// 增大窗口</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">Object</span>.<span class="title function_">keys</span>(need).<span class="title function_">indexOf</span>(ch) !== -<span class="number">1</span>) &#123;</span><br><span class="line">      windows[ch] === <span class="literal">undefined</span> ? (windows[ch] = <span class="number">1</span>) : (windows[ch] += <span class="number">1</span>)</span><br><span class="line">      <span class="keyword">if</span> (windows[ch] === need[ch]) &#123;</span><br><span class="line">        valid++ <span class="comment">// 有效字符数加一</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 缩小窗口（当windows中所有元素都匹配 need 中的所有元素时,即有效字符数===need长度)</span></span><br><span class="line">    <span class="keyword">while</span> (valid === <span class="title class_">Object</span>.<span class="title function_">keys</span>(need).<span class="property">length</span>) &#123;</span><br><span class="line">      <span class="comment">// 如果当前窗口的长度 &lt; 之前的最小长度，则更新最小长度和起始位置</span></span><br><span class="line">      <span class="keyword">if</span> (right - left &lt; len) &#123;</span><br><span class="line">        len = right - left</span><br><span class="line">        start = left</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">let</span> d = s.<span class="title function_">charAt</span>(left) <span class="comment">// 要移出去的字符</span></span><br><span class="line">      left++ <span class="comment">// 左移窗口</span></span><br><span class="line">      <span class="keyword">if</span> (need[d] !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">        <span class="comment">// 判断移除元素是否是有效字符</span></span><br><span class="line">        <span class="keyword">if</span> (windows[d] === need[d]) &#123;</span><br><span class="line">          valid--</span><br><span class="line">        &#125;</span><br><span class="line">        windows[d]--</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> len === <span class="title class_">Infinity</span> ? <span class="string">&#x27;&#x27;</span> : s.<span class="title function_">substring</span>(start, start + len) <span class="comment">// substring [from,to)</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> s = <span class="string">&#x27;ADOBECODEBANC&#x27;</span></span><br><span class="line"><span class="keyword">let</span> t = <span class="string">&#x27;ABC&#x27;</span></span><br><span class="line"><span class="keyword">let</span> ret = <span class="title function_">minWindow</span>(s, t)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ret)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>滑动窗口常用于解决子串问题，大致逻辑如下</p>
<p>窗口以左闭右开表示，[left, right），右开表现在先将right指针元素加入窗口后，立即right++，之后执行收缩窗口(left++)的判断</p>
<p>增大窗口的条件为 right 没有走完整个字符串</p>
<p>缩小窗口的条件：因题目而定。本题目为当窗口中的有效元素能够覆盖子串t时，更新结果，并收缩窗口直到无法覆盖。</p>
<p>再循环进行增大窗口和判断是否缩小窗口。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> left = <span class="number">0</span>,</span><br><span class="line">  right = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (right &lt; s.<span class="property">length</span>) &#123;</span><br><span class="line">  <span class="comment">// 增大窗口</span></span><br><span class="line">  windows.<span class="title function_">add</span>(s.<span class="title function_">charAt</span>(right))</span><br><span class="line">  right++</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 判断是否要缩小窗口</span></span><br><span class="line">  <span class="keyword">while</span> (<span class="variable language_">window</span> needs shrink) &#123;</span><br><span class="line">    <span class="comment">// 缩小窗口</span></span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">remove</span>(s.<span class="title function_">charAt</span>(left))</span><br><span class="line">    left++</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://1katherine.github.io/2022/09/03/Leetcode20-%E6%9C%89%E6%95%88%E6%8B%AC%E5%8F%B7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yang's Blog">
      <meta itemprop="description" content="Yang的博客">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Yang's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/03/Leetcode20-%E6%9C%89%E6%95%88%E6%8B%AC%E5%8F%B7/" class="post-title-link" itemprop="url">Leetcode20 有效括号</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2022-09-03 15:46:13 / 修改时间：20:05:04" itemprop="dateCreated datePublished" datetime="2022-09-03T15:46:13+08:00">2022-09-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/check-if-there-is-a-valid-parentheses-string-path/">题目</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">s</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">boolean</span>&#125;</span></span><br><span class="line"><span class="comment"> * 思路：</span></span><br><span class="line"><span class="comment"> * 1. 用一个 left 栈保存所有左括号</span></span><br><span class="line"><span class="comment"> * 2。每次遇见左括号入栈，遇见右括号时，将栈顶弹出，判断弹出的左括号是否匹配当前右括号</span></span><br><span class="line"><span class="comment"> * 3. 匹配则继续，不匹配则立马返回false</span></span><br><span class="line"><span class="comment"> * 4. 当遇见右括号时，栈为空也直接返回false</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> isValid = <span class="keyword">function</span> (<span class="params">s</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> leftStack = []</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; s.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> ch = s.<span class="title function_">charAt</span>(i)</span><br><span class="line">    <span class="comment">// 如果是左括号：入栈</span></span><br><span class="line">    <span class="keyword">if</span> (ch === <span class="string">&#x27;(&#x27;</span> || ch === <span class="string">&#x27;[&#x27;</span> || ch === <span class="string">&#x27;&#123;&#x27;</span>) leftStack.<span class="title function_">push</span>(ch)</span><br><span class="line">    <span class="comment">// 如果是右括号，出栈并匹配</span></span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (leftStack.<span class="property">length</span> &gt; <span class="number">0</span> &amp;&amp; leftStack.<span class="title function_">pop</span>() === <span class="title function_">leftOf</span>(ch)) <span class="keyword">continue</span></span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 如果最后栈不为空，则表示还有剩余的左括号没有匹配</span></span><br><span class="line">  <span class="keyword">return</span> leftStack.<span class="property">length</span> === <span class="number">0</span> ? <span class="literal">true</span> : <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回右括号对应的左括号</span></span><br><span class="line"><span class="keyword">let</span> leftOf = <span class="keyword">function</span> (<span class="params">right</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (right === <span class="string">&#x27;)&#x27;</span>) <span class="keyword">return</span> <span class="string">&#x27;(&#x27;</span></span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (right === <span class="string">&#x27;]&#x27;</span>) <span class="keyword">return</span> <span class="string">&#x27;[&#x27;</span></span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (right === <span class="string">&#x27;&#125;&#x27;</span>) <span class="keyword">return</span> <span class="string">&#x27;&#123;&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> s = <span class="string">&#x27;()[]&#123;]&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isValid</span>(s))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/check-if-there-is-a-valid-parentheses-string-path/">检查是否有合法括号字符串路径</a>     —- 困难题</p>
<p>递归 + 记忆化搜索</p>
<blockquote>
<p>仅提供递归的思路，实际使用递归会超时，只能通过 16&#x2F;81 个测试用例，需要用3维DP来做</p>
<p>一种是分别在向右方向和向下方向递归和回溯</p>
<p>另一种是定义两个方向的数组，用 for 循环来统一递归的流程</p>
<p>两种方法都是先计算递归的下一步坐标，如果这个坐标越界或不符合（已经访问过）则continue，否则朝着下一个坐标的方向递归下去，对下一坐标做操作 + 递归下一坐标 + 撤销下一坐标的操作</p>
</blockquote>
<p>做法一：分别在两个方向递归和回溯</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">character[][]</span>&#125; <span class="variable">grid</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">boolean</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> hasValidPath = <span class="keyword">function</span> (<span class="params">grid</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> path = []</span><br><span class="line">  <span class="keyword">let</span> ret = []</span><br><span class="line">  <span class="keyword">let</span> visited = <span class="keyword">new</span> <span class="title class_">Array</span>(grid.<span class="property">length</span>)</span><br><span class="line">    .<span class="title function_">fill</span>()</span><br><span class="line">    .<span class="title function_">map</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> (item = <span class="keyword">new</span> <span class="title class_">Array</span>(grid[<span class="number">0</span>].<span class="property">length</span>).<span class="title function_">fill</span>(<span class="number">0</span>)))</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   *</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; <span class="variable">grid</span></span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; <span class="variable">i</span></span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; <span class="variable">j</span></span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">let</span> <span class="title function_">dfs</span> = (<span class="params">grid, i, j</span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// 走到终点</span></span><br><span class="line">    <span class="keyword">if</span> (i === grid.<span class="property">length</span> - <span class="number">1</span> &amp;&amp; j === grid[<span class="number">0</span>].<span class="property">length</span> - <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(path)</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(ret)</span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">isValid</span>(path)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 往右走</span></span><br><span class="line">    <span class="keyword">if</span> (j + <span class="number">1</span> &lt;= grid[<span class="number">0</span>].<span class="property">length</span> - <span class="number">1</span> &amp;&amp; visited[i][j + <span class="number">1</span>] === <span class="number">0</span>) &#123;</span><br><span class="line">      path.<span class="title function_">push</span>(grid[i][j + <span class="number">1</span>])</span><br><span class="line">      ret.<span class="title function_">push</span>([i, j + <span class="number">1</span>])</span><br><span class="line">      visited[i][j + <span class="number">1</span>] = <span class="number">1</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="title function_">dfs</span>(grid, i, j + <span class="number">1</span>)) <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">      visited[i][j + <span class="number">1</span>] = <span class="number">0</span></span><br><span class="line">      path.<span class="title function_">pop</span>()</span><br><span class="line">      ret.<span class="title function_">pop</span>()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 往下走</span></span><br><span class="line">    <span class="keyword">if</span> (i + <span class="number">1</span> &lt;= grid.<span class="property">length</span> - <span class="number">1</span> &amp;&amp; visited[i + <span class="number">1</span>][j] === <span class="number">0</span>) &#123;</span><br><span class="line">      path.<span class="title function_">push</span>(grid[i + <span class="number">1</span>][j])</span><br><span class="line">      ret.<span class="title function_">push</span>([i + <span class="number">1</span>, j])</span><br><span class="line">      visited[i + <span class="number">1</span>][j] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (<span class="title function_">dfs</span>(grid, i + <span class="number">1</span>, j)) <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">      visited[i + <span class="number">1</span>][j] = <span class="number">0</span></span><br><span class="line">      path.<span class="title function_">pop</span>()</span><br><span class="line">      ret.<span class="title function_">pop</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 先把起点加入path中</span></span><br><span class="line">  path.<span class="title function_">push</span>(grid[<span class="number">0</span>][<span class="number">0</span>])</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">dfs</span>(grid, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断路径 path 是否是合法的括号</span></span><br><span class="line"><span class="keyword">var</span> isValid = <span class="keyword">function</span> (<span class="params">path</span>) &#123;</span><br><span class="line">  <span class="comment">// left 记录未匹配到右括号的左括号数量</span></span><br><span class="line">  <span class="keyword">let</span> left = <span class="number">0</span></span><br><span class="line">  <span class="comment">// 每遇到一个右括号就把左括号数量--</span></span><br><span class="line">  path.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (item === <span class="string">&#x27;(&#x27;</span>) left++</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (item === <span class="string">&#x27;)&#x27;</span>) left--</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> left === <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> grid = [</span><br><span class="line">  [<span class="string">&#x27;(&#x27;</span>, <span class="string">&#x27;(&#x27;</span>, <span class="string">&#x27;(&#x27;</span>],</span><br><span class="line">  [<span class="string">&#x27;)&#x27;</span>, <span class="string">&#x27;(&#x27;</span>, <span class="string">&#x27;)&#x27;</span>],</span><br><span class="line">  [<span class="string">&#x27;(&#x27;</span>, <span class="string">&#x27;(&#x27;</span>, <span class="string">&#x27;)&#x27;</span>],</span><br><span class="line">  [<span class="string">&#x27;(&#x27;</span>, <span class="string">&#x27;(&#x27;</span>, <span class="string">&#x27;)&#x27;</span>],</span><br><span class="line">]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">hasValidPath</span>(grid))</span><br></pre></td></tr></table></figure>



<p>做法二： 先声明方向数组，使用 for 循环统一递归流程</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">character[][]</span>&#125; <span class="variable">grid</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">boolean</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// 定义向右和向下的方向</span></span><br><span class="line"><span class="keyword">let</span> directionX = [<span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line"><span class="keyword">let</span> directionY = [<span class="number">1</span>, <span class="number">0</span>]</span><br><span class="line"><span class="keyword">var</span> hasValidPath = <span class="keyword">function</span> (<span class="params">grid</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> path = []</span><br><span class="line">  <span class="keyword">let</span> visited = <span class="keyword">new</span> <span class="title class_">Array</span>(grid.<span class="property">length</span>)</span><br><span class="line">    .<span class="title function_">fill</span>()</span><br><span class="line">    .<span class="title function_">map</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> (item = <span class="keyword">new</span> <span class="title class_">Array</span>(grid[<span class="number">0</span>].<span class="property">length</span>).<span class="title function_">fill</span>(<span class="number">0</span>)))</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   *</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; <span class="variable">grid</span></span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; <span class="variable">i</span></span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; <span class="variable">j</span></span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">let</span> <span class="title function_">dfs</span> = (<span class="params">grid, i, j</span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// 走到终点</span></span><br><span class="line">    <span class="keyword">if</span> (i === grid.<span class="property">length</span> - <span class="number">1</span> &amp;&amp; j === grid[<span class="number">0</span>].<span class="property">length</span> - <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(path)</span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">isValid</span>(path)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> k = <span class="number">0</span>; k &lt; <span class="number">2</span>; k++) &#123;</span><br><span class="line">      <span class="keyword">let</span> next_i = i + directionX[k]</span><br><span class="line">      <span class="keyword">let</span> next_j = j + directionY[k]</span><br><span class="line">      <span class="comment">// 如果下一步越界，不递归 continue</span></span><br><span class="line">      <span class="keyword">if</span> (</span><br><span class="line">        next_i &lt; <span class="number">0</span> ||</span><br><span class="line">        next_i &gt; grid.<span class="property">length</span> - <span class="number">1</span> ||</span><br><span class="line">        next_j &lt; <span class="number">0</span> ||</span><br><span class="line">        next_j &gt; grid[<span class="number">0</span>].<span class="property">length</span> - <span class="number">1</span> ||</span><br><span class="line">        visited[next_i][next_j] === <span class="number">1</span></span><br><span class="line">      )</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">        path.<span class="title function_">push</span>(grid[next_i][next_j]) <span class="comment">// 做选择</span></span><br><span class="line">        visited[next_i][next_j] = <span class="number">1</span> <span class="comment">// 标记走过（记忆化搜索）</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_">dfs</span>(grid, next_i, next_j)) <span class="keyword">return</span> <span class="literal">true</span> <span class="comment">// 如果找到一条路径返回true，整体返回true，不用再往下搜索</span></span><br><span class="line">        path.<span class="title function_">pop</span>() <span class="comment">// 撤销选择</span></span><br><span class="line">        visited[next_i][next_j] = <span class="number">0</span> <span class="comment">// 标记没走过</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 先把起点加入path中</span></span><br><span class="line">  path.<span class="title function_">push</span>(grid[<span class="number">0</span>][<span class="number">0</span>])</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">dfs</span>(grid, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断路径 path 是否是合法的括号</span></span><br><span class="line"><span class="keyword">var</span> isValid = <span class="keyword">function</span> (<span class="params">path</span>) &#123;</span><br><span class="line">  <span class="comment">// left 记录未匹配到右括号的左括号数量</span></span><br><span class="line">  <span class="keyword">let</span> left = <span class="number">0</span></span><br><span class="line">  <span class="comment">// 每遇到一个右括号就把左括号数量--</span></span><br><span class="line">  path.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (item === <span class="string">&#x27;(&#x27;</span>) left++</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (item === <span class="string">&#x27;)&#x27;</span>) left--</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> left === <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> grid = [</span><br><span class="line">  [<span class="string">&#x27;(&#x27;</span>, <span class="string">&#x27;(&#x27;</span>, <span class="string">&#x27;(&#x27;</span>],</span><br><span class="line">  [<span class="string">&#x27;)&#x27;</span>, <span class="string">&#x27;(&#x27;</span>, <span class="string">&#x27;)&#x27;</span>],</span><br><span class="line">  [<span class="string">&#x27;(&#x27;</span>, <span class="string">&#x27;(&#x27;</span>, <span class="string">&#x27;)&#x27;</span>],</span><br><span class="line">  [<span class="string">&#x27;(&#x27;</span>, <span class="string">&#x27;(&#x27;</span>, <span class="string">&#x27;)&#x27;</span>],</span><br><span class="line">]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">hasValidPath</span>(grid))</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://1katherine.github.io/2022/09/02/Leetcode-%E8%BF%B7%E5%AE%AB%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yang's Blog">
      <meta itemprop="description" content="Yang的博客">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Yang's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/02/Leetcode-%E8%BF%B7%E5%AE%AB%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">Leetcode 迷宫问题</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2022-09-02 23:21:30 / 修改时间：23:28:12" itemprop="dateCreated datePublished" datetime="2022-09-02T23:21:30+08:00">2022-09-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>知识点：四个方向的深度优先遍历 、 回溯、 记忆遍历</p>
<ol>
<li>固定遍历的探索方向 （顺时针 - 右下左上）</li>
<li>在符合条件的时候才递归下去，否则不递归，continue其他方向</li>
<li>记忆，使用 visited 数组保存节点是否访问过，避免重复搜索</li>
<li>回溯：递归前做选择，递归后撤销选择。一定要明确做选择的对象是当前的节点，还是递归的下一个节点，因为选择+递归+撤销是一个组合，不要分开。</li>
</ol>
</blockquote>
<p>解法一：分别在四个方向深度递归 + 回溯</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 深度优先遍历</span></span><br><span class="line"><span class="comment"> * 1. 一开始设置好遍历的方法，顺时针（右下左上）</span></span><br><span class="line"><span class="comment"> * 2，从起点开始递归，直到找到终点（此时得到这条路径的距离） --- 递归的过程中将已经递归过的点设置为已经访问</span></span><br><span class="line"><span class="comment"> * 3. 回溯，从终点往前回溯，看看前面的点还有没有其他方向探寻 --- 回溯的时候把当前位置设置为未访问</span></span><br><span class="line"><span class="comment"> * 4. 不断通过递归、回溯，找到多条路径，并更新最短路径</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> min = <span class="title class_">Infinity</span></span><br><span class="line"><span class="comment">// 2 是起点，3是终点</span></span><br><span class="line"><span class="keyword">let</span> arr = [</span><br><span class="line">  [<span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">  [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">  [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">  [<span class="number">0</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">0</span>],</span><br><span class="line">  [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> visited = <span class="keyword">new</span> <span class="title class_">Array</span>(arr.<span class="property">length</span>)</span><br><span class="line">  .<span class="title function_">fill</span>()</span><br><span class="line">  .<span class="title function_">map</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> (item = <span class="keyword">new</span> <span class="title class_">Array</span>(arr[<span class="number">0</span>].<span class="property">length</span>)).<span class="title function_">fill</span>(<span class="number">0</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> ret = []</span><br><span class="line"><span class="keyword">let</span> <span class="title function_">dfs</span> = (<span class="params">row, col, dis</span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 找到终点</span></span><br><span class="line">  <span class="keyword">if</span> (arr[row][col] === <span class="number">3</span>) &#123;</span><br><span class="line">    min = <span class="title class_">Math</span>.<span class="title function_">min</span>(min, dis)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//  四个方向探索</span></span><br><span class="line">  <span class="comment">// 右 (不是墙，并且没有访问过)</span></span><br><span class="line">  <span class="keyword">if</span> (</span><br><span class="line">    col + <span class="number">1</span> &lt; arr[<span class="number">0</span>].<span class="property">length</span> &amp;&amp;</span><br><span class="line">    arr[row][col + <span class="number">1</span>] !== <span class="number">1</span> &amp;&amp;</span><br><span class="line">    visited[row][col + <span class="number">1</span>] === <span class="number">0</span></span><br><span class="line">  ) &#123;</span><br><span class="line">    visited[row][col + <span class="number">1</span>] = <span class="number">1</span> <span class="comment">//  标记访问</span></span><br><span class="line">    <span class="title function_">dfs</span>(row, col + <span class="number">1</span>, dis + <span class="number">1</span>) <span class="comment">// 递归</span></span><br><span class="line">    visited[row][col + <span class="number">1</span>] = <span class="number">0</span> <span class="comment">// 回溯-撤销访问</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 下</span></span><br><span class="line">  <span class="keyword">if</span> (</span><br><span class="line">    row + <span class="number">1</span> &lt; arr.<span class="property">length</span> &amp;&amp;</span><br><span class="line">    arr[row + <span class="number">1</span>][col] !== <span class="number">1</span> &amp;&amp;</span><br><span class="line">    visited[row + <span class="number">1</span>][col] === <span class="number">0</span></span><br><span class="line">  ) &#123;</span><br><span class="line">    visited[row + <span class="number">1</span>][col] = <span class="number">1</span> <span class="comment">//  标记访问</span></span><br><span class="line">    <span class="title function_">dfs</span>(row + <span class="number">1</span>, col, dis + <span class="number">1</span>) <span class="comment">// 递归</span></span><br><span class="line">    visited[row + <span class="number">1</span>][col] = <span class="number">0</span> <span class="comment">// 回溯-撤销访问</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 左</span></span><br><span class="line">  <span class="keyword">if</span> (col - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; arr[row][col - <span class="number">1</span>] !== <span class="number">1</span> &amp;&amp; visited[row][col - <span class="number">1</span>] === <span class="number">0</span>) &#123;</span><br><span class="line">    visited[row][col - <span class="number">1</span>] = <span class="number">1</span> <span class="comment">//  标记访问</span></span><br><span class="line">    <span class="title function_">dfs</span>(row, col - <span class="number">1</span>, dis + <span class="number">1</span>) <span class="comment">// 递归</span></span><br><span class="line">    visited[row][col - <span class="number">1</span>] = <span class="number">0</span> <span class="comment">// 回溯-撤销访问</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 上</span></span><br><span class="line">  <span class="keyword">if</span> (row - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; arr[row - <span class="number">1</span>][col] !== <span class="number">1</span> &amp;&amp; visited[row - <span class="number">1</span>][col] === <span class="number">0</span>) &#123;</span><br><span class="line">    visited[row - <span class="number">1</span>][col] = <span class="number">1</span> <span class="comment">//  标记访问</span></span><br><span class="line">    <span class="title function_">dfs</span>(row - <span class="number">1</span>, col, dis + <span class="number">1</span>) <span class="comment">// 递归</span></span><br><span class="line">    visited[row - <span class="number">1</span>][col] = <span class="number">0</span> <span class="comment">// 回溯-撤销访问</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">dfs</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>) <span class="comment">// 假设已知起点坐标为 0，0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(min)</span><br></pre></td></tr></table></figure>



<p>解法二：针对当前节点做选择</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 深度优先遍历</span></span><br><span class="line"><span class="comment"> * 1. 一开始设置好遍历的方法，顺时针（右下左上）</span></span><br><span class="line"><span class="comment"> * 2，从起点开始递归，直到找到终点（此时得到这条路径的距离） --- 递归的过程中将已经递归过的点设置为已经访问</span></span><br><span class="line"><span class="comment"> * 3. 回溯，从终点往前回溯，看看前面的点还有没有其他方向探寻 --- 回溯的时候把当前位置设置为未访问</span></span><br><span class="line"><span class="comment"> * 4. 不断通过递归、回溯，找到多条路径，并更新最短路径</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> min = <span class="title class_">Infinity</span></span><br><span class="line"><span class="keyword">let</span> directionX = [<span class="number">0</span>, +<span class="number">1</span>, <span class="number">0</span>, -<span class="number">1</span>]</span><br><span class="line"><span class="keyword">let</span> directionY = [+<span class="number">1</span>, <span class="number">0</span>, -<span class="number">1</span>, <span class="number">0</span>]</span><br><span class="line"><span class="keyword">let</span> path = []</span><br><span class="line"><span class="keyword">let</span> <span class="title function_">dfs</span> = (<span class="params">arr, row, col</span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 找到终点</span></span><br><span class="line">  <span class="keyword">if</span> (arr[row][col] === <span class="number">3</span>) &#123;</span><br><span class="line">    min = <span class="title class_">Math</span>.<span class="title function_">min</span>(min, path.<span class="property">length</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 1 做选择</span></span><br><span class="line">  path.<span class="title function_">push</span>([row, col])</span><br><span class="line">  <span class="comment">// 标记已经访问</span></span><br><span class="line">  arr[row][col] = <span class="number">1</span></span><br><span class="line">  <span class="comment">// 顺时针试探</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> new_row = row + directionX[i]</span><br><span class="line">    <span class="keyword">let</span> new_col = col + directionY[i]</span><br><span class="line">    <span class="keyword">if</span> (</span><br><span class="line">      new_row &lt; <span class="number">0</span> ||</span><br><span class="line">      new_row &gt;= arr.<span class="property">length</span> ||</span><br><span class="line">      new_col &lt; <span class="number">0</span> ||</span><br><span class="line">      new_col &gt;= arr[<span class="number">0</span>].<span class="property">length</span> ||</span><br><span class="line">      arr[new_row][new_col] === <span class="number">1</span></span><br><span class="line">    )</span><br><span class="line">      <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="title function_">dfs</span>(arr, row + directionX[i], col + directionY[i])</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 撤销选择</span></span><br><span class="line">  arr[row][col] = <span class="number">0</span></span><br><span class="line">  path.<span class="title function_">pop</span>()</span><br><span class="line">  <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2 是起点，3是终点</span></span><br><span class="line"><span class="keyword">let</span> arr = [</span><br><span class="line">  [<span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">  [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">  [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">  [<span class="number">0</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">0</span>],</span><br><span class="line">  [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="title function_">dfs</span>(arr, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(min)</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://1katherine.github.io/2022/09/02/Leetcode-01%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yang's Blog">
      <meta itemprop="description" content="Yang的博客">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Yang's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/09/02/Leetcode-01%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">Leetcode 01背包问题</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2022-09-02 09:59:40 / 修改时间：12:17:58" itemprop="dateCreated datePublished" datetime="2022-09-02T09:59:40+08:00">2022-09-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>相关资料：<a target="_blank" rel="noopener" href="https://programmercarl.com/%E8%83%8C%E5%8C%85%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%8001%E8%83%8C%E5%8C%85-1.html">动态规划：关于01背包问题，你该了解这些！ From《代码随想录》</a></p>
<p>状态：</p>
<ol>
<li>可选择的物品    i </li>
<li>背包的容量        j</li>
</ol>
<p>dp数组含义： </p>
<p><code>dp[i][j]</code>: 从前 0~i 个物品中任意选择，达到背包重量为 j 的时候，可以装下的最大价值 <code>dp[i][j]</code></p>
<p>选择：</p>
<p>对于第  i 个物品，有两种选择。</p>
<ol>
<li>把第 i 个物品装入背包后，最大价值达到 <code>dp[i][j]</code>      —》 <code>dp[i][j] = dp[i - 1][j]</code></li>
<li>没有把第 i 个物品装入背包，此时最大价值为 <code>dp[i][j]</code>    —-》<code>dp[i][j] = dp[i][j - weight[i]] + val[i]</code></li>
</ol>
<p>最终的状态转移方程 ： <code>dp[i][j] = max &#123;dp[i - 1][j], dp[i][j - weight[i]] + val[i] &#125;</code></p>
<p>初始化：</p>
<p>二维矩阵最左边一列：<code>dp[0...i][0] = 0</code> (在 0-i 个物品任意选择，重量为0时，最大价值为0)</p>
<p>二维矩阵最上边一行：<code>dp[0][0...j] = 0 || val[0]</code> (当第0个物品的重量超过背包重量时，无法装进去，为0 || 当第0个物品的重量没有超过背包重量时，可以装入，背包的最大价值为第0个物品的价格)</p>
<p>其他位置初始化任何数字都可以，默认初始化为0</p>
<p>注意观察：</p>
<p><code>dp[i][j] = max &#123;dp[i - 1][j], dp[i][j - weight[i]] + val[i] &#125;</code></p>
<p><code>dp[i][j] </code>的状态是由<code>dp[i - 1][j]和dp[i][j - weight[i]] </code>推导出来的，因此只和左边区域有关（包括正上方），所以先遍历物品个数，或先遍历背包重量都可以。</p>
<p>先遍历物品个数 👇 （图源自代码随想录） </p>
<p>P.S.  </p>
<p>题目给了三个物品，因此<code>i</code>的取值为 0 - 2</p>
<p>题目给了背包的最大重量为4kg，因此<code>j</code>的取值为0-4</p>
<img src="/2022/09/02/Leetcode-01%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/image-20220902101138716.png" class="" title="image-20220902101138716">

<p>先遍历背包重量👇 （图源自代码随想录）</p>
<img src="/2022/09/02/Leetcode-01%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/image-20220902101328358.png" class="" title="image-20220902101328358">



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">testWeightBagProblem</span>(<span class="params">weight, value, size</span>) &#123;</span><br><span class="line">  <span class="comment">// 1. 定义 dp 数组</span></span><br><span class="line">  <span class="keyword">let</span> dp = <span class="keyword">new</span> <span class="title class_">Array</span>(weight.<span class="property">length</span>)</span><br><span class="line">    .<span class="title function_">fill</span>()</span><br><span class="line">    .<span class="title function_">map</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> (item = <span class="keyword">new</span> <span class="title class_">Array</span>(size).<span class="title function_">fill</span>(<span class="number">0</span>)))</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2 初始化 ---- 当背包重量为0时，再多物品也放不进去</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; weight.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    dp[i][<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2 初始化 ----- 当放第一个物品时，能不能把第一个物品放进去，取决于背包的容量 j</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; size; j++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (j &gt;= weight[<span class="number">0</span>]) dp[<span class="number">0</span>][j] = value[<span class="number">0</span>]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 3 状态转移</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; weight.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">1</span>; j &lt; size; j++) &#123;</span><br><span class="line">      <span class="comment">// 如果当前背包容量小于物品重量, 则第 i 个物品是绝对不可能装入背包后达到重量 j 的</span></span><br><span class="line">      <span class="comment">// 解决：dp[i - 1][j - weight[i]] 中 j - weight[i] 越界问题</span></span><br><span class="line">      <span class="keyword">if</span> (j &lt; weight[i])</span><br><span class="line">        <span class="comment">// 背包物品的价值等于背包不放置当前物品时的价值</span></span><br><span class="line">        dp[i][j] = dp[i - <span class="number">1</span>][j]</span><br><span class="line">      <span class="comment">// 若背包当前重量可以放置物品</span></span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">        dp[i][j] = <span class="title class_">Math</span>.<span class="title function_">max</span>(dp[i - <span class="number">1</span>][j], dp[i - <span class="number">1</span>][j - weight[i]] + value[i])</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(dp)</span><br><span class="line">  <span class="comment">// return dp[weight.length - 1][size - 1]</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">testWeightBagProblem</span>([<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], [<span class="number">15</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">55</span>], <span class="number">6</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">test</span>()</span><br></pre></td></tr></table></figure>







<h4 id="状态压缩版本"><a href="#状态压缩版本" class="headerlink" title="状态压缩版本"></a>状态压缩版本</h4><p>注意：遍历背包容量的时候一定要从后往前遍历</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 状态压缩</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; <span class="variable">wight</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; <span class="variable">value</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; <span class="variable">size</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">testWeightBagProblem2</span>(<span class="params">wight, value, size</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> len = wight.<span class="property">length</span>,</span><br><span class="line">    dp = <span class="title class_">Array</span>(size + <span class="number">1</span>).<span class="title function_">fill</span>(<span class="number">0</span>) <span class="comment">// 初始化为0</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= len; i++) &#123; <span class="comment">// 遍历物品</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = size; j &gt;= wight[i - <span class="number">1</span>]; j--) &#123;  <span class="comment">// 遍历背包容量</span></span><br><span class="line">      dp[j] = <span class="title class_">Math</span>.<span class="title function_">max</span>(dp[j], value[i - <span class="number">1</span>] + dp[j - wight[i - <span class="number">1</span>]])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(dp)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> dp[size]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test2</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">testWeightBagProblem2</span>([<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], [<span class="number">15</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">55</span>], <span class="number">6</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">test2</span>()</span><br><span class="line"><span class="comment">// 每轮 dp  --- 物品个数共4个，因此遍历 4 轮，每轮这一轮的物品 i 要不要放入 容量为 j 的背包中</span></span><br><span class="line"><span class="comment">// dp 从后往前进行填充！！！</span></span><br><span class="line">第 <span class="number">1</span> 轮 = [<span class="number">0</span>, <span class="number">15</span>, <span class="number">15</span>, <span class="number">15</span>, <span class="number">15</span>, <span class="number">15</span>, <span class="number">15</span>]</span><br><span class="line">第 <span class="number">2</span> 轮 = [<span class="number">0</span>, <span class="number">15</span>, <span class="number">15</span>, <span class="number">20</span>, <span class="number">35</span>, <span class="number">35</span>, <span class="number">35</span>]</span><br><span class="line">第 <span class="number">3</span> 轮 = [<span class="number">0</span>, <span class="number">15</span>, <span class="number">15</span>, <span class="number">20</span>, <span class="number">35</span>, <span class="number">45</span>, <span class="number">45</span>]</span><br><span class="line">第 <span class="number">4</span> 轮 = [<span class="number">0</span>, <span class="number">15</span>, <span class="number">15</span>, <span class="number">20</span>, <span class="number">35</span>, <span class="number">55</span>, <span class="number">70</span>]</span><br></pre></td></tr></table></figure>

<p>相关资料：<a target="_blank" rel="noopener" href="https://programmercarl.com/%E8%83%8C%E5%8C%85%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%8001%E8%83%8C%E5%8C%85-2.html#%E5%85%B6%E4%BB%96%E8%AF%AD%E8%A8%80%E7%89%88%E6%9C%AC">https://programmercarl.com/%E8%83%8C%E5%8C%85%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%8001%E8%83%8C%E5%8C%85-2.html#%E5%85%B6%E4%BB%96%E8%AF%AD%E8%A8%80%E7%89%88%E6%9C%AC</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://1katherine.github.io/2022/08/31/Leetcode969-%E7%85%8E%E9%A5%BC%E6%8E%92%E5%BA%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yang's Blog">
      <meta itemprop="description" content="Yang的博客">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Yang's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/08/31/Leetcode969-%E7%85%8E%E9%A5%BC%E6%8E%92%E5%BA%8F/" class="post-title-link" itemprop="url">Leetcode969 煎饼排序</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2022-08-31 17:19:25 / 修改时间：17:51:13" itemprop="dateCreated datePublished" datetime="2022-08-31T17:19:25+08:00">2022-08-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/pancake-sorting/">链接🔗</a></p>
<blockquote>
<p>提示：递归 - 拆分子问题    1<del>n号煎饼，找到最大煎饼，将大煎饼翻转到最底部（n号位置），之后对1</del>n-1号煎饼执行同样的步骤，直到只剩一个煎饼</p>
<p>怎么将最大的煎饼反转到底部？ — 假设最大煎饼的下标为 maxIndex</p>
<ol>
<li>先翻转 1~maxIndex号煎饼，此时最大的煎饼在最上方</li>
<li>再翻转所有煎饼，此时最大的煎饼到最下方</li>
</ol>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[]</span>&#125; <span class="variable">arr</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number[]</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> pancakeSort = <span class="keyword">function</span> (<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> res = [] <span class="comment">// 记录每次翻转的位置</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 左闭右闭，翻转[0,n]号煎饼，从maxIndex开始翻转，则翻转位置在 maxIndex+1</span></span><br><span class="line">  <span class="keyword">let</span> <span class="title function_">dfs</span> = (<span class="params">arr, n</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (n === <span class="number">0</span>) <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 找最大煎饼的下标</span></span><br><span class="line">    <span class="keyword">let</span> max = arr[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">let</span> maxIndex = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt;= n; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (arr[i] &gt; max) &#123;</span><br><span class="line">        max = arr[i]</span><br><span class="line">        maxIndex = i</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 第一次翻转煎饼，将最大的翻到最上方</span></span><br><span class="line">    <span class="title function_">_reverse</span>(arr, maxIndex)</span><br><span class="line">    <span class="comment">// 记录本次翻转</span></span><br><span class="line">    res.<span class="title function_">push</span>(maxIndex + <span class="number">1</span>)</span><br><span class="line">    <span class="comment">// 第二次翻转煎饼，翻转整个煎饼</span></span><br><span class="line">    <span class="title function_">_reverse</span>(arr, n)</span><br><span class="line">    <span class="comment">// 记录本次翻转</span></span><br><span class="line">    res.<span class="title function_">push</span>(n + <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 递归翻转剩下的 0~n-1号煎饼</span></span><br><span class="line">    <span class="title function_">dfs</span>(arr, n - <span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">dfs</span>(arr, arr.<span class="property">length</span> - <span class="number">1</span>)</span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 翻转0-m煎饼，共m+1个</span></span><br><span class="line"><span class="comment"> * 如果最大煎饼下标为2，翻转0-2共三个煎饼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">_reverse</span> = (<span class="params">arr, m</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">let</span> tmp = arr.<span class="title function_">splice</span>(<span class="number">0</span>, m + <span class="number">1</span>).<span class="title function_">reverse</span>()</span><br><span class="line">  arr.<span class="title function_">unshift</span>(...tmp)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">1</span>]</span><br><span class="line"><span class="title function_">pancakeSort</span>(arr)</span><br><span class="line"></span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://1katherine.github.io/2022/08/31/Leetcode200-%E5%B2%9B%E5%B1%BF%E6%95%B0%E9%87%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yang's Blog">
      <meta itemprop="description" content="Yang的博客">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Yang's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/08/31/Leetcode200-%E5%B2%9B%E5%B1%BF%E6%95%B0%E9%87%8F/" class="post-title-link" itemprop="url">Leetcode200 岛屿数量</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-08-31 17:02:04" itemprop="dateCreated datePublished" datetime="2022-08-31T17:02:04+08:00">2022-08-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-09-09 00:50:49" itemprop="dateModified" datetime="2022-09-09T00:50:49+08:00">2022-09-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/number-of-islands/submissions/">链接🔗</a></p>
<blockquote>
<p>提示：递归</p>
<p>递归函数的作用：以某个位置为入口，以2标记以这个位置为入口的整个岛屿</p>
<p>当前节点：如果是陆地，则标记该陆地，避免重复遍历</p>
<p>递归方向：上下左右四个方向</p>
<p>顺序：前序（先标记、再递归）</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">character[][]</span>&#125; <span class="variable">grid</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> numIslands = <span class="keyword">function</span> (<span class="params">grid</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> count = <span class="number">0</span></span><br><span class="line">  <span class="comment">// 遍历网格，如果当前节点是陆地，则将它作为岛屿的入口，开始递归搜索整个岛屿，将陆地标记为2</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; grid.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; grid[<span class="number">0</span>].<span class="property">length</span>; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (grid[i][j] === <span class="string">&#x27;1&#x27;</span>) &#123;</span><br><span class="line">        <span class="title function_">dfs</span>(grid, i, j)</span><br><span class="line">        count++ <span class="comment">// 岛屿数量加一</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> count</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * dfs 递归</span></span><br><span class="line"><span class="comment"> * 当前节点：如果是陆地，就标记成2。避免递归时候重复操作</span></span><br><span class="line"><span class="comment"> * 递归：上下左右四个方向</span></span><br><span class="line"><span class="comment"> * 顺序：先对当前节点处理，再向后递归 （四个方向的递归顺序无所谓，只要保证四个方向全部递归）</span></span><br><span class="line"><span class="comment"> * 结束条件：超过边界；当前是海洋</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">dfs</span> = (<span class="params">grid, r, l</span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 超过边界不处理</span></span><br><span class="line">  <span class="keyword">if</span> (r &lt; <span class="number">0</span> || r &gt; grid.<span class="property">length</span> - <span class="number">1</span> || l &lt; <span class="number">0</span> || l &gt; grid[<span class="number">0</span>].<span class="property">length</span> - <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 海洋不处理</span></span><br><span class="line">  <span class="keyword">if</span> (grid[r][l] !== <span class="string">&#x27;1&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 标记陆地</span></span><br><span class="line">  grid[r][l] = <span class="string">&#x27;2&#x27;</span></span><br><span class="line">  <span class="comment">// 向下递归</span></span><br><span class="line">  <span class="title function_">dfs</span>(grid, r + <span class="number">1</span>, l)</span><br><span class="line">  <span class="comment">// 向上递归</span></span><br><span class="line">  <span class="title function_">dfs</span>(grid, r - <span class="number">1</span>, l)</span><br><span class="line">  <span class="comment">// 向左递归</span></span><br><span class="line">  <span class="title function_">dfs</span>(grid, r, l - <span class="number">1</span>)</span><br><span class="line">  <span class="comment">// 向右递归</span></span><br><span class="line">  <span class="title function_">dfs</span>(grid, r, l + <span class="number">1</span>)</span><br><span class="line">  <span class="comment">// 当所有都被递归完成后 return 结束（可以不写）</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>







<p>BFS解法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">character[][]</span>&#125; <span class="variable">grid</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> directtionX = [-<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>] <span class="comment">// 上右下左</span></span><br><span class="line"><span class="keyword">let</span> directtionY = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, -<span class="number">1</span>] <span class="comment">// 上右下左</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">bfs</span> = (<span class="params">grid, queue</span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 广度遍历</span></span><br><span class="line">  <span class="keyword">while</span> (queue.<span class="property">length</span> !== <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// 队列尺寸</span></span><br><span class="line">    <span class="keyword">let</span> size = queue.<span class="property">length</span></span><br><span class="line">    <span class="comment">// 第一层for循环，遍历队列中的所有节点</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> n = <span class="number">0</span>; n &lt; size; n++) &#123;</span><br><span class="line">      <span class="keyword">let</span> pos = queue.<span class="title function_">shift</span>() <span class="comment">// 取出头节点</span></span><br><span class="line"></span><br><span class="line">      grid[pos[<span class="number">0</span>]][pos[<span class="number">1</span>]] = <span class="string">&#x27;0&#x27;</span> <span class="comment">// 标记该位置已经走过</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">// 第二层for循环，遍历每个节点能够走的方向</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> new_x = pos[<span class="number">0</span>] + directtionX[i]</span><br><span class="line">        <span class="keyword">let</span> new_y = pos[<span class="number">1</span>] + directtionY[i]</span><br><span class="line">        <span class="keyword">if</span> (</span><br><span class="line">          new_x &lt; <span class="number">0</span> ||</span><br><span class="line">          new_x &gt;= grid.<span class="property">length</span> ||</span><br><span class="line">          new_y &lt; <span class="number">0</span> ||</span><br><span class="line">          new_y &gt;= grid[<span class="number">0</span>].<span class="property">length</span></span><br><span class="line">        )</span><br><span class="line">          <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">if</span> (grid[new_x][new_y] === <span class="string">&#x27;1&#x27;</span>) &#123;</span><br><span class="line">          grid[new_x][new_y] = <span class="string">&#x27;0&#x27;</span> <span class="comment">// 标记该位置已经走过</span></span><br><span class="line">          queue.<span class="title function_">push</span>([new_x, new_y])</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 当队列为空时，表示遍历完了一整个岛屿</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> numIslands = <span class="keyword">function</span> (<span class="params">grid</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> nums = <span class="number">0</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; grid.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; grid[<span class="number">0</span>].<span class="property">length</span>; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (grid[i][j] === <span class="string">&#x27;1&#x27;</span>) &#123;</span><br><span class="line">        <span class="comment">// 遍历以 grid[i][j] 为起点的岛屿，将陆地标记为海水</span></span><br><span class="line">        nums++</span><br><span class="line">        <span class="comment">// 队列</span></span><br><span class="line">        <span class="keyword">let</span> queue = [[i, j]]</span><br><span class="line">        <span class="title function_">bfs</span>(grid, queue)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(nums)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> grid = [</span><br><span class="line">  [<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;0&#x27;</span>],</span><br><span class="line">  [<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;0&#x27;</span>],</span><br><span class="line">  [<span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;0&#x27;</span>],</span><br><span class="line">  [<span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;1&#x27;</span>],</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="title function_">numIslands</span>(grid)</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://1katherine.github.io/2022/08/31/HJ35-%E8%9B%87%E5%BD%A2%E7%9F%A9%E9%98%B5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yang's Blog">
      <meta itemprop="description" content="Yang的博客">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Yang's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/08/31/HJ35-%E8%9B%87%E5%BD%A2%E7%9F%A9%E9%98%B5/" class="post-title-link" itemprop="url">HJ35 蛇形矩阵</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2022-08-31 14:26:21 / 修改时间：14:27:29" itemprop="dateCreated datePublished" datetime="2022-08-31T14:26:21+08:00">2022-08-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a target="_blank" rel="noopener" href="https://www.nowcoder.com/practice/649b210ef44446e3b1cd1be6fa4cab5e?tpId=37&tqId=21257&rp=1&ru=/exam/oj&qru=/exam/oj&sourceUrl=/exam/oj?page=1&pageSize=50&search=&tab=%25E5%2590%258D%25E4%25BC%2581%25E7%259C%259F%25E9%25A2%2598&topicId=37&difficulty=undefined&judgeStatus=undefined&tags=&title=">链接🔗</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 方法一：把每个元素push到对应的行数组里</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">solution1</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">let</span> line = <span class="number">4</span></span><br><span class="line">  <span class="keyword">const</span> n = <span class="built_in">parseInt</span>(line)</span><br><span class="line">  <span class="comment">// 二维数组嵌套一维数组</span></span><br><span class="line">  <span class="keyword">let</span> res = <span class="keyword">new</span> <span class="title class_">Array</span>(n).<span class="title function_">fill</span>().<span class="title function_">map</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> <span class="title class_">Array</span>())</span><br><span class="line">  <span class="keyword">let</span> cur = <span class="number">1</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = i; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">      <span class="comment">// j 从 i ~ 0, 往一维数据尾部加入元素</span></span><br><span class="line">      res[j].<span class="title function_">push</span>(cur)</span><br><span class="line">      cur++</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 遍历输出一维数组</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> line <span class="keyword">of</span> res) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(line.<span class="title function_">join</span>(<span class="string">&#x27; &#x27;</span>))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 方法二，找规律，按照对角线依次赋值</span></span><br><span class="line"><span class="comment"> * [0,0]</span></span><br><span class="line"><span class="comment"> * [1,0], [0,1]</span></span><br><span class="line"><span class="comment"> * [2,0], [1,1], [0,2]</span></span><br><span class="line"><span class="comment"> * 规律：i 从 0 ~ n-1，j 从 0~i，依次对 [i - j][j] 赋值</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">solution2</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">let</span> line = <span class="number">4</span></span><br><span class="line">  <span class="keyword">const</span> n = <span class="built_in">parseInt</span>(line)</span><br><span class="line">  <span class="comment">// 二维数组嵌套一维数组</span></span><br><span class="line">  <span class="keyword">let</span> res = <span class="keyword">new</span> <span class="title class_">Array</span>(n).<span class="title function_">fill</span>().<span class="title function_">map</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> <span class="title class_">Array</span>())</span><br><span class="line">  <span class="keyword">let</span> cur = <span class="number">1</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt;= n - <span class="number">1</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt;= i; j++) &#123;</span><br><span class="line">      res[i - j][j] = cur</span><br><span class="line">      cur++</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 遍历输出一维数组</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> line <span class="keyword">of</span> res) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(line.<span class="title function_">join</span>(<span class="string">&#x27; &#x27;</span>))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">solution2</span>()</span><br><span class="line"></span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://1katherine.github.io/2022/08/31/HJ33-%E6%95%B4%E6%95%B0%E4%B8%8EIP%E5%9C%B0%E5%9D%80%E9%97%B4%E7%9A%84%E8%BD%AC%E6%8D%A2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yang's Blog">
      <meta itemprop="description" content="Yang的博客">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Yang's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/08/31/HJ33-%E6%95%B4%E6%95%B0%E4%B8%8EIP%E5%9C%B0%E5%9D%80%E9%97%B4%E7%9A%84%E8%BD%AC%E6%8D%A2/" class="post-title-link" itemprop="url">HJ33 整数与IP地址间的转换</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2022-08-31 11:23:16 / 修改时间：11:27:02" itemprop="dateCreated datePublished" datetime="2022-08-31T11:23:16+08:00">2022-08-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a target="_blank" rel="noopener" href="https://www.nowcoder.com/practice/66ca0e28f90c42a196afd78cc9c496ea?tpId=37&tqId=21256&rp=1&ru=/exam/oj&qru=/exam/oj&sourceUrl=/exam/oj?page=1&pageSize=50&search=&tab=%25E5%2590%258D%25E4%25BC%2581%25E7%259C%259F%25E9%25A2%2598&topicId=37&difficulty=undefined&judgeStatus=undefined&tags=&title=">链接🔗</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> readline = <span class="built_in">require</span>(<span class="string">&#x27;readline&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> rl = readline.<span class="title function_">createInterface</span>(process.<span class="property">stdin</span>, process.<span class="property">stdout</span>)</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 二进制转整数</span></span><br><span class="line"><span class="comment"> * 1. 十进制转二进制</span></span><br><span class="line"><span class="comment"> * 2，拼接二进制</span></span><br><span class="line"><span class="comment"> * 3. 二进制转十进制</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> binToDec = <span class="keyword">function</span> (<span class="params">ip</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> res = []</span><br><span class="line">  <span class="keyword">let</span> arr = ip.<span class="title function_">split</span>(<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">  arr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 十进制字符串转二进制字符串，不满8位头部补零</span></span><br><span class="line">    <span class="keyword">let</span> bin = <span class="built_in">parseInt</span>(item).<span class="title function_">toString</span>(<span class="number">2</span>).<span class="title function_">padStart</span>(<span class="number">8</span>, <span class="string">&#x27;0&#x27;</span>)</span><br><span class="line">    res.<span class="title function_">push</span>(bin)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">let</span> binstr = res.<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">  <span class="comment">// 二进制转十进制</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseInt</span>(binstr, <span class="number">2</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 整数转二进制</span></span><br><span class="line"><span class="comment"> * 1. 十进制转二进制，少于32位，头部补零</span></span><br><span class="line"><span class="comment"> * 2. 8位分成一个二进制</span></span><br><span class="line"><span class="comment"> * 3. 二进制转十进制</span></span><br><span class="line"><span class="comment"> * 4. 拼接字符串.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> decToBin = <span class="keyword">function</span> (<span class="params">num</span>) &#123;</span><br><span class="line">  <span class="comment">// 十进制转二进制，不满32位头部补零</span></span><br><span class="line">  <span class="keyword">let</span> str = num.<span class="title function_">toString</span>(<span class="number">2</span>).<span class="title function_">padStart</span>(<span class="number">32</span>, <span class="string">&#x27;0&#x27;</span>).<span class="title function_">split</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">  <span class="keyword">let</span> tmp = []</span><br><span class="line">  <span class="keyword">while</span> (str.<span class="property">length</span> !== <span class="number">0</span>) &#123;</span><br><span class="line">    tmp.<span class="title function_">push</span>(str.<span class="title function_">splice</span>(<span class="number">0</span>, <span class="number">8</span>).<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>))</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> res = []</span><br><span class="line">  tmp.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 二进制转十进制</span></span><br><span class="line">    res.<span class="title function_">push</span>(<span class="built_in">parseInt</span>(item, <span class="number">2</span>).<span class="title function_">toString</span>())</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="title function_">join</span>(<span class="string">&#x27;.&#x27;</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">rl.<span class="title function_">on</span>(<span class="string">&#x27;line&#x27;</span>, <span class="keyword">function</span> (<span class="params">line</span>) &#123;</span><br><span class="line"> <span class="keyword">if</span> (line.<span class="title function_">split</span>(<span class="string">&#x27;.&#x27;</span>).<span class="property">length</span> &gt; <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="title function_">binToDec</span>(line)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="title function_">decToBin</span>(<span class="built_in">parseInt</span>(line))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>总结：</p>
<p>其他进制十进制（参数为字符串)</p>
<p>十六进制转十进制：parseInt(‘a’, 16) &#x3D; 10</p>
<p>二进制转十进制：parseInt(‘0101’, 2) &#x3D; 5</p>
<p>十进制转其他 （参数为整数）</p>
<p>十进制转十六进制: 15.toString(16) &#x3D; ‘F’</p>
<p>十进制转二进制：10.toString(2) &#x3D; ‘1010’</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://1katherine.github.io/2022/08/31/Leetcode454-%E5%9B%9B%E6%95%B0%E7%9B%B8%E5%8A%A0%E2%85%A1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yang">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yang's Blog">
      <meta itemprop="description" content="Yang的博客">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Yang's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/08/31/Leetcode454-%E5%9B%9B%E6%95%B0%E7%9B%B8%E5%8A%A0%E2%85%A1/" class="post-title-link" itemprop="url">Leetcode454 四数相加Ⅱ</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2022-08-31 10:49:46 / 修改时间：10:54:23" itemprop="dateCreated datePublished" datetime="2022-08-31T10:49:46+08:00">2022-08-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>链接🔗</p>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/4sum-ii/">https://leetcode.cn/problems/4sum-ii/</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fourSumCount = <span class="keyword">function</span> (<span class="params">nums1, nums2, nums3, nums4</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1. 记录数组a和b中每个元素相加的结果和结果出现次数</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> item1 <span class="keyword">of</span> nums1) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> item2 <span class="keyword">of</span> nums2) &#123;</span><br><span class="line">            <span class="keyword">let</span> sum = item1 + item2</span><br><span class="line">            map.<span class="title function_">set</span>(sum, (map.<span class="title function_">get</span>(sum) || <span class="number">0</span>) + <span class="number">1</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. 判断 0 - (c+d) 是否在map中存在</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> item3 <span class="keyword">of</span> nums3) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> item4 <span class="keyword">of</span> nums4) &#123;</span><br><span class="line">            <span class="keyword">let</span> sum = item3 + item4</span><br><span class="line">            <span class="keyword">if</span> (map.<span class="title function_">has</span>(<span class="number">0</span> - sum)) &#123;</span><br><span class="line">                count += map.<span class="title function_">get</span>(<span class="number">0</span> - sum)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> nums1 = [<span class="number">1</span>, <span class="number">2</span>], nums2 = [-<span class="number">2</span>, -<span class="number">1</span>], nums3 = [-<span class="number">1</span>, <span class="number">2</span>], nums4 = [<span class="number">0</span>, <span class="number">2</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fourSumCount</span>(nums1, nums2, nums3, nums4));</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yang</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.0/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>





  





</body>
</html>
